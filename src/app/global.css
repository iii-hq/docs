@import 'tailwindcss';
@import 'fumadocs-ui/css/neutral.css';
@import 'fumadocs-ui/css/preset.css';

@theme {
  /* iii Design Tokens */
  --font-mono: 'Chivo Mono', monospace;

  --color-iii-black: #000000;
  --color-iii-dark: #1d1d1d;
  --color-iii-medium: #8b8b8b;
  --color-iii-light: #f4f4f4;
  --color-iii-accent: #f3f724;
  --color-iii-accent-light: #1d4ed8;

  /* Animations */
  --animate-pulse-fast: pulse 1s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  --animate-glitch: glitch 1s linear infinite;
  --animate-flow: flow 20s linear infinite;
  --animate-fade-in-up: fadeInUp 0.8s ease-out forwards;
  --animate-fade-in: fadeIn 0.5s ease-out forwards;

  @keyframes fadeInUp {
    0% {
      opacity: 0;
      transform: translateY(20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes fadeIn {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }
  @keyframes glitch {
    2%,
    64% {
      transform: translate(2px, 0) skew(0deg);
    }
    4%,
    60% {
      transform: translate(-2px, 0) skew(0deg);
    }
    62% {
      transform: translate(0, 0) skew(5deg);
    }
  }
  @keyframes flow {
    0% {
      background-position: 0 0;
    }
    100% {
      background-position: 0 100%;
    }
  }

  /* Light Mode Configuration (Default) */
  --color-fd-background: var(--color-iii-light);
  --color-fd-foreground: var(--color-iii-black);
  --color-fd-muted: #e5e5e5;
  --color-fd-muted-foreground: var(--color-iii-medium);
  --color-fd-popover: #ffffff;
  --color-fd-popover-foreground: var(--color-iii-black);
  --color-fd-card: #ffffff;
  --color-fd-card-foreground: var(--color-iii-black);
  --color-fd-border: #e0e0e0;
  --color-fd-primary: var(--color-iii-black);
  --color-fd-primary-foreground: #ffffff;
  --color-fd-secondary: #e5e5e5;
  --color-fd-secondary-foreground: var(--color-iii-black);
  --color-fd-accent: #e5e5e5;
  --color-fd-accent-foreground: var(--color-iii-black);
  --color-fd-destructive: #ef4444;
  --color-fd-destructive-foreground: #ffffff;
  --color-fd-ring: var(--color-iii-black);

  /* Mermaid Diagram Colors - Light Mode */
  --color-mermaid-fill: #f4f4f4;
  --color-mermaid-stroke: #000000;
  --color-mermaid-text: #000000;
  --color-mermaid-cluster-fill: #f4f4f4;
}

/* Dark Mode Configuration */
:root.dark {
  --color-fd-background: var(--color-iii-black);
  --color-fd-foreground: var(--color-iii-light);
  --color-fd-muted: var(--color-iii-dark);
  --color-fd-muted-foreground: var(--color-iii-medium);
  --color-fd-popover: var(--color-iii-dark);
  --color-fd-popover-foreground: var(--color-iii-light);
  --color-fd-card: var(--color-iii-dark);
  --color-fd-card-foreground: var(--color-iii-light);
  --color-fd-border: #2d2d2d;
  --color-fd-primary: var(--color-iii-accent);
  --color-fd-primary-foreground: var(--color-iii-black);
  --color-fd-secondary: var(--color-iii-dark);
  --color-fd-secondary-foreground: var(--color-iii-light);
  --color-fd-accent: var(--color-iii-dark);
  --color-fd-accent-foreground: var(--color-iii-accent);
  --color-fd-destructive: #7f1d1d;
  --color-fd-destructive-foreground: #ffffff;
  --color-fd-ring: var(--color-iii-accent);

  /* Mermaid Diagram Colors - Dark Mode */
  --color-mermaid-fill: #000000;
  --color-mermaid-stroke: #ffffff;
  --color-mermaid-text: #ffffff;
  --color-mermaid-cluster-fill: transparent;
}

/* Base Styles */
body {
  background-color: var(--color-fd-background);
  color: var(--color-fd-foreground);
  font-family: var(--font-mono);
}

/* Typography Enhancements */
h1,
h2,
h3,
h4,
h5,
h6 {
  font-weight: 600;
  letter-spacing: -0.02em;
}

/* Ensure bold text is visible */
strong,
b {
  font-weight: bold;
}

/* III Specific Overrides */

/* Selection */
::selection {
  background-color: var(--color-iii-accent);
  color: var(--color-iii-black);
}

/* Code Blocks */
figure[data-rehype-pretty-code-figure] {
  border-color: var(--color-fd-secondary);
}

:root.dark figure[data-rehype-pretty-code-figure] {
  border-color: var(--color-iii-dark);
}

code {
  background-color: #e5e5e5;
  color: var(--color-iii-black);
  padding: 0.2em 0.4em;
  border-radius: 4px;
}

:root.dark code {
  background-color: var(--color-iii-dark);
  color: var(--color-iii-accent);
}

pre code {
  background-color: transparent;
  color: inherit;
  padding: 0;
}

/* Logo Fixes */
nav a:first-child,
[data-nav] a:first-child,
aside a:first-child,
[data-sidebar] a:first-child {
  color: var(--color-fd-foreground);
}

/* Sidebar Borders */
[data-sidebar] {
  border-right-color: var(--color-fd-border);
}

/* Search Input */
button[aria-label='Search'],
input[type='search'] {
  background-color: var(--color-fd-muted);
  border: 1px solid var(--color-fd-border);
  color: var(--color-fd-foreground);
}

/* Links */
a {
  text-decoration-color: var(--color-iii-accent);
}

a:hover {
  color: var(--color-fd-primary);
}

/* Mermaid Diagram - Force III Monochromatic Style */
.mermaid {
  display: flex;
  justify-content: center;
  margin: 2rem 0;
}

/* Mermaid Diagrams - No filters needed */
